#include<iostream>
using namespace std;
int UTYFfYUGyUTTUGvfuFtufuUfuytgyGFJGFYffTUI87326987829362579634756FGhGtyuGy435fd;
int main(){freopen("explore.in","r",stdin);freopen("explore.out","w",stdout);
cin>>UTYFfYUGyUTTUGvfuFtufuUfuytgyGFJGFYffTUI87326987829362579634756FGhGtyuGy435fd;
for(int i=0;i<UTYFfYUGyUTTUGvfuFtufuUfuytgyGFJGFYffTUI87326987829362579634756FGhGtyuGy435fd;i++){
    int q,w,e,r,t,y;char a[1024][1024];
    cin>>q>>w>>e>>r>>t>>y;
    for(int i=0;i<q;i++){
        for(int j=0;j<w;j++){
            cin>>a[i][j];
        }
    }if(a[0][0]!=a[0][1]){
    cout<<1<<endl;continue;}
    if((t==1&&y==0)||(t==2&&y==2)){
        cout<<2<<endl;
    }else{
    cout<<1<<endl;}
}return 0;}
